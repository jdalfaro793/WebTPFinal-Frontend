<!-- Contenedor principal -->
<div class="row my-5 min-vh-100 m-0 ">
    <div class="col-12 col-sm-10 mx-auto bg-body">
        <div class="row text-uppercase bg-dark py-3 py-sm-5 text-center align-items-center">
            <div class="col-12">
                <p class=" fs-2 fw-bold text-white m-0">
                    Registros de <span class="text-primary">{{alumno.apellido}}, {{alumno.nombre}}</span>
                </p>
            </div>
        </div>

        <div class="row p-2 p-sm-4">
            <div class="col-6 col-md-2 text-center m-0 p-0">
                <button type="button" class=" w-100 btn btn-dark p-2 fs-6 fw-bold" (click)="volver()">VOLVER</button>
            </div>
        </div>
        

        <div class="row p-2 p-sm-4 bg-light">
            <div class="col-12 p-0" *ngIf="registros.length == 0">
                <div class="py-5 alert alert-danger fs-2 fw-bold fst-italic text-uppercase text-center" role="alert">
                    El alumno no tiene registros para visualizar
                </div>
            </div>
            <div class="col-12 p-0" *ngIf="registros.length > 0">
                <div class="table-responsive">

                    <table class="table align-middle table-hover m-0 bg-white text-center">
                        <thead class="table-dark">
                            <tr>
                                <th scope="col" rowspan="1">Fecha</th>
                                <th scope="col" rowspan="1">Objetivo</th>
                                <th scope="col" rowspan="1">Peso</th>
                                <th scope="col" rowspan="1">Dieta</th>
                                <th scope="col" rowspan="1">Foto</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let r of registros">
                                <td scope="col" rowspan="1">
                                    {{r.fecha | date}}
                                </td>
                                <td scope="col" rowspan="1"> {{r.objetivo}} </td>
                                <td scope="col" rowspan="1"> <p class="m-0"><span>{{r.peso}}</span> Kgrs.</p> </td>
                                <td scope="col" rowspan="1">
                                    <button class="btn btn-outline-dark" title="Mostrar más info" type="button" data-bs-toggle="modal"
                                    data-bs-target="#mostrarDieta" (click)="mostrarDieta(r)">
                                            <i class="bi bi-eye"></i>
                                    </button>

                                    <!-- Modal -->
                                    <div class="modal fade" id="mostrarDieta" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-title py-3">
                                                    <h2 class="text-center fs-3 fw-light">Mes: <span class="fw-bold">{{mesRegistro}}</span></h2>
                                                </div>
                                                <div class="modal-body table-responsive">
                                                    <table class="table align-middle table-hover m-0 bg-white text-center">
                                                        <thead class="table-dark">
                                                            <tr>
                                                                <th scope="col" rowspan="1">Día</th>
                                                                <th scope="col" rowspan="1">Desayuno</th>
                                                                <th scope="col" rowspan="1">Almuerzo</th>
                                                                <th scope="col" rowspan="1">Merienda</th>
                                                                <th scope="col" rowspan="1">Cena</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr *ngFor="let p of planSemanalRegistro">
                                                                <td> {{p.dia}} </td>
                                                                <td> {{p.desayuno}} </td>
                                                                <td> {{p.almuerzo}} </td>
                                                                <td> {{p.merienda}} </td>
                                                                <td> {{p.cena}} </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                                <td scope="col" rowspan="1">
                                    <button class="btn btn-outline-success" title="Ver foto" type="button" data-bs-toggle="modal"
                                    data-bs-target="#imagenModal" >
                                        <i class="bi bi-image"></i>
                                    </button>

                                    <!-- Modal -->
                                    <div class="modal fade" id="imagenModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-body">
                                                    <img src="{{r.foto}}" class="img-fluid" alt="">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                      </table>
                </div>
            </div>

        
        </div>
    </div>
</div>